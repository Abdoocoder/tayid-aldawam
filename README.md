# ๐ฆ ูุธุงู ุชุฃููุฏ ุงูุฏูุงู ุงูุฐูู (Smart Attendance Support System)

![Version](https://img.shields.io/badge/Version-1.0.0-blue?style=for-the-badge)
![Status](https://img.shields.io/badge/Status-Production%20Ready-success?style=for-the-badge)
![Security](https://img.shields.io/badge/Security-RLS%20Verified-blueviolet?style=for-the-badge)
![License](https://img.shields.io/badge/License-Proprietary-red?style=for-the-badge)

<div align="center">
  <img src="./public/dashboard-mockup.png" alt="Dashboard Mockup" width="800" />
</div>

<div dir="rtl">

## ๐ ูุจุฐุฉ ุนู ุงููุธุงู
ูุธุงู **ุชุฃููุฏ ุงูุฏูุงู ุงูุฐูู** ูู ููุตุฉ ูุคุณุณูุฉ ูุชูุงููุฉ ูุตููุฉ ูุฅุฏุงุฑุฉ ุนูููุงุช ุงูุญุถูุฑ ูุงูุงูุตุฑุงู ูุงูุฑูุงุชุจ ููุจูุฏูุงุช ูุงููุคุณุณุงุช ุงููุจุฑู. ููุฏู ุงููุธุงู ุฅูู ุฃุชูุชุฉ ุฏูุฑุฉ ุญูุงุฉ "ุชุฃููุฏ ุงูุฏูุงู" ุจุงููุงููุ ุจุฏุกุงู ูู ุฑุตุฏ ุงููุฑุงูุจูู ูู ุงูููุฏุงูุ ูุฑูุฑุงู ุจุณูุณูุฉ ูู ุงูุงุนุชูุงุฏุงุช ุงูุชุฏููููุฉ ุงูุตุงุฑูุฉุ ูุตููุงู ุฅูู ุฅุตุฏุงุฑ ูุณูุฑุงุช ุงูุฑูุงุชุจ ุงูููุงุฆูุฉ ุจุฏูุฉ ูุชูุงููุฉ.

ูุชููุฒ ุงููุธุงู ุจุจููุฉ ุชูููุฉ ุตูุจุฉ ุชุนุชูุฏ ุนูู ุฃุญุฏุซ ุชูููุงุช ุงูููุจุ ูุน ุชุฑููุฒ ุดุฏูุฏ ุนูู **ุฃูู ุงููุนูููุงุช**ุ **ูุฒุงูุฉ ุงูุจูุงูุงุช**ุ ู**ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู**.

### โจ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ
*   **๐๏ธ ูุณุงุฑ ุงุนุชูุงุฏ ุฎูุงุณู ุงููุฑุงุญู**: ูู ุงูููุฏุงู ุฅูู ุงูุฑูุงุชุจ ุจููุณุฉ ูุงุญุฏุฉ.
*   **๐ก๏ธ ุฃูุงู ูุณุชูู ูุงุนุฏุฉ ุงูุจูุงูุงุช (RLS)**: ุญูุงูุฉ ุงูุจูุงูุงุช ูู ุงูููุงุฉ ูููุณ ููุท ูู ุงููุงุฌูุฉ.
*   **๐ ุฏุนู ุชุนุฏุฏ ุงูููุงุทู ุงููุชูุฏู**: ุฅุณูุงุฏ ูุณุคูููุงุช ูุชุนุฏุฏุฉ ููู ูุณุคูู ุจุฏูุฉ.
*   **๐ ูุงุฌูุงุช ุฐููุฉ (Glassmorphism)**: ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุนุตุฑูุฉ ูุณูุณุฉ ุชุญุงูู ุงูุฃูุธูุฉ ุงูุนุงูููุฉ.
*   **๐ ุณุฌู ุฑูุงุจุฉ ูุงูู (Audit Log)**: ุชุชุจุน ูู ุญุฑูุฉ ูู ุงููุธุงู ุจุงูุซุงููุฉ.
*   **๐จ๏ธ ุชูุงุฑูุฑ ุทุจุงุนุฉ ุฑุณููุฉ**: ูุดููุงุช ุฌุงูุฒุฉ ููุงุนุชูุงุฏุงุช ุงููุฑููุฉ ูุงูุฎุชู ุงูุฑุณูู.

---

## ๐๏ธ ุงูุจููุฉ ุงูุชูููุฉ (Architecture)

ุชู ุจูุงุก ุงููุธุงู ุจุงุณุชุฎุฏุงู "Modern Data Stack" ูุถูุงู ุงูุฃุฏุงุก ุงูุนุงูู ููุงุจููุฉ ุงูุชูุณุน:

| ุงูุชุตููู | ุงูุชูููุฉ | ุงูุฅุตุฏุงุฑ | ุงูุบุฑุถ |
| :--- | :--- | :--- | :--- |
| **Framework** | [Next.js](https://nextjs.org/) | 16 (App Router) | ุฅุทุงุฑ ุงูุนูู ุงูุฃุณุงุณู ูููุงุฌูุงุช ูุงูู API |
| **Language** | [TypeScript](https://www.typescriptlang.org/) | 5.0+ | ูุบุฉ ุงูุจุฑูุฌุฉ ูุถูุงู Type Safety |
| **Styling** | [Tailwind CSS](https://tailwindcss.com/) | 4.0 | ุชุตููู ุงููุงุฌูุงุช ุจูุธุงู Utility-first |
| **Database** | [Supabase](https://supabase.com/) | PostgreSQL 15 | ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฅุฏุงุฑุฉ ุงููุตุงุฏูุฉ |
| **Security** | Row Level Security (RLS) | - | ุณูุงุณุงุช ุฃูุงู ุนูู ูุณุชูู ุงูุตููู ูู DB |
| **State** | React Context + Hooks | 19 | ุฅุฏุงุฑุฉ ุญุงูุฉ ุงูุชุทุจูู ูุญููุงู |

---

## ๐ฅ ูุตูููุฉ ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช (Role Matrix)

ูุชุจูู ุงููุธุงู ูููุฐุฌ **RBAC (Role-Based Access Control)** ุตุงุฑู ูุถูุงู ูุตู ุงูููุงู:

| ุงูุฏูุฑ | ุงูููุฏ (Role Key) | ุงููุณุคูููุงุช ุงูุฑุฆูุณูุฉ |
| :--- | :--- | :--- |
| **ูุฏูุฑ ุงููุธุงู** | `admin` | ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏูููุ ุงูุงุทูุงุน ุนูู ูู ุงูุณุฌูุงุชุ ูุฑุงูุจุฉ ุณุฌูุงุช ุงููุธุงู (Audit Log). |
| **ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ** | `hr` | ุฅุฏุงุฑุฉ ุงูููุธูููุ ุฅุฏุงุฑุฉ ุงูููุงุทูุ ุงูุงุนุชูุงุฏ ุงูููุงุฆู ูุจู ุงููุงููุฉ (ุงููุฑุญูุฉ 3). |
| **ุงููุงููุฉ** | `finance` | ุงูุชุฏููู ุงููุงููุ ุงูุงุนุชูุงุฏ ุงูููุงุฆูุ ุชุตุฏูุฑ ูููุงุช ุงูุฑูุงุชุจ (Excel/PDF). |
| **ุงููุฑุงูุจ ุงูุนุงู** | `general_supervisor` | ุงูุฅุดุฑุงู ุนูู ูุฌููุนุฉ ููุงุทู ููุฑุงูุจููุ ุงูุงุนุชูุงุฏ ุงูุฃููู (ุงููุฑุญูุฉ 1). |
| **ูุฏูุฑ ุงูุตุญุฉ** | `health_director` | ุงุนุชูุงุฏ ุฎุงุต ูุนูุงู ุงููุทุงุน ุงูุตุญู (ุงููุฑุญูุฉ 2 - ูุณุงุฑ ููุงุฒู). |
| **ุงููุฑุงูุจ ุงูููุฏุงูู** | `supervisor` | ุชุณุฌูู ุงูุญุถูุฑ ุงููููู ููุนูุงู ูู ููุงุทููุ ูุนุงูุฌุฉ ุงูุณุฌูุงุช ุงููุฑููุถุฉ. |
| **ุงูุนููุฏ** | `mayor` | ููุญุฉ ุชุญูู ููุงุฏูุฉ (Dashboard) ูุนุฑุถ ุงูุฅุญุตุงุฆูุงุช ูุงูุฃุฏุงุก ุงูุนุงู. |

---

## ๐ ุฏูุฑุฉ ุญูุงุฉ ุงูุงุนุชูุงุฏ (Approval Workflow)

ูุฎุถุน ูู ุณุฌู ุญุถูุฑ ูุณูุณูุฉ ุงุนุชูุงุฏุงุช ุฎูุงุณูุฉ ุงููุฑุงุญู ูุถูุงู ุงูุฏูุฉ:

```mermaid
stateDiagram-v2
    [*] --> DRAFT: ุงููุฑุงูุจ ูุณุฌู ุงูุญุถูุฑ
    DRAFT --> PENDING_GS: ุฅุฑุณุงู ููุงุนุชูุงุฏ
    
    state "ุงููุฑุงูุจ ุงูุนุงู" as GS {
        PENDING_GS --> PENDING_HR: ุงุนุชูุงุฏ (ุนูุงู ุบูุฑ ุตุญุฉ)
        PENDING_GS --> PENDING_HEALTH: ุงุนุชูุงุฏ (ุนูุงู ุตุญุฉ)
        PENDING_GS --> REJECTED: ุฑูุถ
    }

    state "ูุฏูุฑ ุงูุตุญุฉ" as Health {
        PENDING_HEALTH --> PENDING_HR: ุงุนุชูุงุฏ
        PENDING_HEALTH --> REJECTED: ุฑูุถ
    }

    state "ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ" as HR {
        PENDING_HR --> PENDING_FINANCE: ุงุนุชูุงุฏ
        PENDING_HR --> REJECTED: ุฑูุถ
    }

    state "ุงููุงููุฉ" as Finance {
        PENDING_FINANCE --> APPROVED: ุงุนุชูุงุฏ ููุงุฆู
        PENDING_FINANCE --> REJECTED: ุฑูุถ
    }

    REJECTED --> DRAFT: ุชุตุญูุญ ูุฅุนุงุฏุฉ ุฅุฑุณุงู
    APPROVED --> [*]: ุฃุฑุดูุฉ ูุตุฑู
```

---

## ๐ก๏ธ ุงูุฃูู ูุงูุญูุงูุฉ (Security & Integrity)

### 1. Row Level Security (RLS)
ูุง ุชุนุชูุฏ ุงูุญูุงูุฉ ุนูู ุงููุงุฌูุงุช ุงูุฃูุงููุฉ ููุทุ ุจู ูู ูุญููุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.
*   **ุงููุฑุงูุจ** ูุฑู ููุท ุนูุงู ููุงุทูู.
*   **ุงููุฑุงูุจ ุงูุนุงู** ูุฑู ูู ูุง ููุน ุชุญุช ุฅุดุฑุงู ุงููุฑุงูุจูู ุงูุชุงุจุนูู ูู.
*   **ุงููุฏุฑุงุก** ูุฑูู ุงูุจูุงูุงุช ุญุณุจ ุงุฎุชุตุงุตูู ุงูุฅุฏุงุฑู.

### 2. ุณุฌู ุงูุฑูุงุจุฉ (Audit System)
ูุชู ุชุณุฌูู ูู ุญุฑูุฉ ูู ุงููุธุงู ูู ุฌุฏูู `audit_logs` ุบูุฑ ูุงุจู ููุชุนุฏูู:
*   ูู ูุงู ุจุงูุชุนุฏููุ
*   ูุชู ุชู ุงูุชุนุฏููุ
*   ูุง ูู ุงููููุฉ ุงููุฏููุฉ ูุงููููุฉ ุงูุฌุฏูุฏุฉุ
*   ููุน ุงูุนูููุฉ (INSERT, UPDATE, DELETE).

---

## ๐ ุฏููู ุงูุชุดุบูู (Installation Guide)

### ุงููุชุทูุจุงุช ุงููุณุจูุฉ
*   Node.js v20+
*   ุญุณุงุจ Supabase ูุดุท

### ุฎุทูุงุช ุงูุชุซุจูุช

1.  **ูุณุฎ ุงููุณุชูุฏุน**:
    ```bash
    git clone https://github.com/your-org/tayid-aldawam.git
    cd tayid-aldawam
    ```

2.  **ุชุซุจูุช ุงูุญุฒู**:
    ```bash
    npm install
    ```

3.  **ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ**:
    ุฃูุดุฆ ููู `.env.local` ูู ุงููุฌูุฏ ุงูุฑุฆูุณู:
    ```env
    NEXT_PUBLIC_SUPABASE_URL=YOUR_SUPABASE_URL
    NEXT_PUBLIC_SUPABASE_ANON_KEY=YOUR_SUPABASE_ANON_KEY
    ```

4.  **ุชุดุบูู ุงูุชุทุจูู**:
    ```bash
    npm run dev
    ```

5.  ** ุจูุงุก ุงููุณุฎุฉ ุงูุฅูุชุงุฌูุฉ**:
    ```bash
    npm run build
    npm start
    ```

---

## ๐ ูููููุฉ ุงููุดุฑูุน (Project Structure)

```tree
src/
โโโ app/                 # (App Router) ุตูุญุงุช ุงููููุน
โ   โโโ (auth)/         # ุตูุญุงุช ุชุณุฌูู ุงูุฏุฎูู
โ   โโโ (dashboard)/    # ููุญุงุช ุงูุชุญูู ุงููุญููุฉ
โ   โโโ api/            # ููุงุท ุงูุงุชุตุงู ุงูุฎูููุฉ (Backend Routes)
โโโ components/          # ููุชุจุฉ ุงูููููุงุช
โ   โโโ ui/             # ููููุงุช ุงูุชุตููู ุงูุฃุณุงุณูุฉ
โ   โโโ views/          # ูุงุฌูุงุช ุงููุณุชุฎุฏู ุญุณุจ ุงูุฏูุฑ
โโโ context/            # ุฅุฏุงุฑุฉ ุงูุญุงูุฉ (Global State)
โโโ lib/                # ุฏูุงู ูุณุงุนุฏุฉ ูุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ types/              # ุชุนุฑููุงุช TypeScript
```

</div>

---

<div dir="rtl">

## ๐ ุงูุฏููู ุงูุฅุฑุดุงุฏู (User Guide)

### ุฏููู ุงููุณุชุฎุฏู ุงูุดุงูู

ููุญุตูู ุนูู **ุฏููู ุดุงูู ูููุตู** ูุงุณุชุฎุฏุงู ุงููุธุงูุ ูุฑุฌู ุงูุงุทูุงุน ุนูู:

๐ **[ุฏููู ุงููุณุชุฎุฏู ุงููุงูู](./docs/USER_GUIDE.md)** ๐

ูุญุชูู ุงูุฏููู ุนูู:

- โ **ุดุฑุญ ุชูุตููู ููู ุฏูุฑ** ูู ุงูุฃุฏูุงุฑ ุงูุณุจุนุฉ
- โ **ุฎุทูุงุช ุงูุนูู ุฎุทูุฉ ุจุฎุทูุฉ** ูุน ุฃูุซูุฉ ุนูููุฉ
- โ **ุฅุฑุดุงุฏุงุช ุงูุทุจุงุนุฉ** ูุฅุนุฏุงุฏ ุงูุชูุงุฑูุฑ ุงูุฑุณููุฉ
- โ **ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุงูุญููู** ูููุดุงูู ุงูุดุงุฆุนุฉ
- โ **ูุตุงุฆุญ ุงูุงุณุชุฎุฏุงู ุงูุฃูุซู** ููู ุฏูุฑ
- โ **ุณูุฑ ุงูุนูู ุงููุงูู** ูุฏูุฑุฉ ุญูุงุฉ ุงูุณุฌู

### ุงูุฃูุณุงู ุงูุฑุฆูุณูุฉ

| ุงููุณู | ุงููุตู |
| :--- | :--- |
| **ุงูุจุฏุก ุงูุณุฑูุน** | ุชุณุฌูู ุงูุฏุฎูู ูุงููุงุฌูุฉ ุงูุฃุณุงุณูุฉ |
| **ุฏููู ุงูุฃุฏูุงุฑ** | ุดุฑุญ ุชูุตููู ููู ูู ุงูุฃุฏูุงุฑ ุงูุณุจุนุฉ |
| **ุณูุฑ ุงูุนูู** | ุฏูุฑุฉ ุญูุงุฉ ุงูุณุฌู ุงููุงููุฉ ูู ุงูุจุฏุงูุฉ ููููุงูุฉ |
| **ุงูุทุจุงุนุฉ ูุงูุชูุงุฑูุฑ** | ููููุฉ ุฅุนุฏุงุฏ ูุทุจุงุนุฉ ุงูุชูุงุฑูุฑ ุงูุฑุณููุฉ |
| **ุงูุจุญุซ ูุงูููุชุฑุฉ** | ุงุณุชุฎุฏุงู ุฃุฏูุงุช ุงูุจุญุซ ุงููุชูุฏูุฉ |
| **ุญู ุงููุดุงูู** | ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ ูุญููููุง |
| **ุงูุฏุนู ุงูููู** | ููููุฉ ุงูุญุตูู ุนูู ุงููุณุงุนุฏุฉ |

### ุงุณุชุฎุฏุงู ุงูุฏููู

**ููููุธููู ุงูุฌุฏุฏ:**
- ุงุณุชุฎุฏูู ููุงุฏุฉ ุชุฏุฑูุจูุฉ ุดุงููุฉ
- ุงูุฑุฃ ุงููุณู ุงูุฎุงุต ุจุฏูุฑู ุจุงูุชูุตูู
- ุงุชุจุน ุงูุฎุทูุงุช ุงููุฑููุฉ ุจุนูุงูุฉ

**ููุฑุฌุน ุนููู:**
- ุงุฑุฌุน ุฅููู ุนูุฏ ุงูุญุงุฌุฉ
- ุงุณุชุฎุฏู ุฌุฏูู ุงููุญุชููุงุช ูููุตูู ุงูุณุฑูุน
- ุดุงุฑูู ูุน ุฒููุงุฆู ูู ุงููุฑูู

### ุงูุชุญููู ูุงูุทุจุงุนุฉ

ููููู:
- ูุฑุงุกุฉ ุงูุฏููู ูุจุงุดุฑุฉ ูู ุงูุฑุงุจุท
- ุทุจุงุนุฉ ุงูุฃูุณุงู ุงููุทููุจุฉ ููุท
- ุชุญูููู ุฅูู PDF ููุชูุฒูุน

> **ููุงุญุธุฉ:** ูุชู ุชุญุฏูุซ ุงูุฏููู ุจุงุณุชูุฑุงุฑ ูุน ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ ูููุธุงู.

</div>

---

<div align="center">

**Developed with โค๏ธ by Digital Transformation Team**

</div>
